import { useEffect, useState } from 'react';

const Profile = () => {

    const [asciiImage, setAsciiImage] = useState<string>('');
    const [infoText1, setInfoText1] = useState<string>('');
    const [infoText2, setInfoText2] = useState<string>('');
    const [infoText3, setInfoText3] = useState<string>('');
    const age = new Date().getFullYear() - 1999;
    const info1 = `
    ----------------Personal Informations----------------\n
    -----------------------------------------------------\n
        ~ Name:         Eugen Iofciu Vasile\n
        ~ Age:          ${age} years old\n
        ~ Knowledge:    Mechanic and Junior Developer\n
    `;

    const info2 = `
    ----------------Programming Languages----------------\n
    -----------------------------------------------------\n
        ~ Frontend:\n
            - HTML, CSS, JS, TS\n
            - ReactJS, React Native\n
            - (learning) AstroJS, Angular\n
        ~ Backend:\n
            - Python, Java, C++\n
            - NodeJS, Spring Boot, Express\n
    `;

    const info3 = `
    ----------------------Education----------------------\n
    -----------------------------------------------------\n
        ~ Diploma:\n
            - ITIS Belluzzi-Fioravanti\n
            - 18/09/2018 - 05/07/2018\n
        ~ Bachelor's Degree Automation Engineering:\n
            - University of Bologna\n
            - 09/10/2018 - CURRENT\n
    `;

    const asciiArt = `
    ..........................................................................................\n
    ..........................................................................................\n
    ..........................................................................................\n
    ..........................................................................................\n
    .........................................:::---:..........................................\n
    ....................................-==*#%%%%%%%##*+=-:...................................\n
    ..................................=#@@%%%#%%%%%%#%%%%##*-.................................\n
    ................................:+@@%%%%%%%%%%%%%%%%%%####:...............................\n
    ...............................:#@@%%%%%######%%%%%%%%##%##:..............................\n
    ..............................:%@%%##******+++*#%%%%##*####+..............................\n
    .............................:#%%#***+++=======++++==----=+#=.............................\n
    .............................=%%%#***+++===--=======--:::::+#:............................\n
    .............................*%%%#***++++===-========-:::::-#=............................\n
    ............................:%%%##****+++==-----=====-:::::-**............................\n
    ............................-%%##*****+++===-----==--:::::::+*............................\n
    ............................-%%############**+======+++++==--+............................\n
    ............................-%##%#%##********###***#****++++++==:.........................\n
    .............................#%#*%+****##***++##**#=+*#*==--==+-..........................\n
    ............................+###*#*****+******##+-#+=*++-:::--+:..........................\n
    ...........................-#*#***#+++++++***##*+-=#----:...-+=:..........................\n
    ...........................:#*********+*****##**+-.-====-::-===:..........................\n
    ............................*#****+++++++++**+**=:-::::::::..::...........................\n
    ............................=#****++++====++*##*=::::::.....::............................\n
    .............................-+*#**+++=++*****+===-::::.....::............................\n
    ................................-**++++++++****++=--:--:...:..............................\n
    .................................#***+++=+****+===-:::::..................................\n
    .................................*#**+++++++++====-:......:...............................\n
    .................................+##*+++++++====--::......................................\n
    .................................+*###****+++==---::....:.................................\n
    .................................*****###***+==-=-----::..................................\n
    ...............................:*#********#**++======-::..................................\n
    .............................:=###**++++++++*+++=---:..:..................................\n
    ........................:==+####***+++==-=======-:........................................\n
    ......................:=#%%%%%%##*+++==-:::------:....:::-==:.............................\n
    ...................:+*%%%%%%%%%%%%*+==--::.:::::::.....:::###*+=-:........................\n
    ...............:=*#########%%#%%##%##+=-:....:::::.......:=%#####*+=:.....................\n
    ............-+#%#######################*+-....::::......::=##########*-...................\n
    ........:-*#%##########*############*#####*-:....:::...::--*#*######*##*=:................\n
    ......:+%%%%#######********##########**####***+=-:::...:::=##**#***#**##**=:..............\n
    ....=#%%%%%%##*#####********######*******#*****##*+++++=-=##*+*********##***:.............\n
    ..:*%%%%%%%%%%%#*##***********####**************##***#*****++*+**+*****#%##**-............\n
    =+%%%%%%%%%##%%%#**************###****************#*******++**+**+******##****-...........\n
    #%%%%%%%%%####%@%#**************##**********************+++***+***+****+*###***...........\n
    %%@@%%%%%%###%##%%#*******#******##**************************+++**++***++*#*#**-..........\n
    @@@%%%%%%#####%%#%%#+******#*********************************+++*******+++#*#**+..........\n
    `;

    useEffect(() => {
        setAsciiImage('');
        setInfoText1('');
        setInfoText2('');
        setInfoText3('');
        const typeAnimation = () => {
            const lines = asciiArt.split('\n');
            const linesInfo1 = info1.split('\n');
            const linesInfo2 = info2.split('\n');
            const linesInfo3 = info3.split('\n');
            
            let i = 0;
            const intervalId = setInterval(() => {
                if (i < lines.length - 1) {
                    setAsciiImage((prevAscii) => prevAscii + lines[i] + '\n');
                }
                i++;
                if (i >= asciiArt.length) {
                    clearInterval(intervalId);
                }
            }, 15); // Adjust the delay as needed for line speed
            
            let j = 0
            const infoIntervalId = setInterval(() => {
                if (j < linesInfo1.length - 1) {
                    setInfoText1((prevInfo1) => prevInfo1 + linesInfo1[j] + '\n');
                }
                if (j < linesInfo2.length - 1) {
                    setInfoText2((prevInfo2) => prevInfo2 + linesInfo2[j] + '\n');
                }
                if (j < linesInfo3.length - 1) {
                    setInfoText3((prevInfo3) => prevInfo3 + linesInfo3[j] + '\n');
                }
                j++;
                if (j >= info1.length) {
                    clearInterval(infoIntervalId);
                }
            }, 50); // Adjust the delay as needed for line speed
        };

        typeAnimation();
    }, []);


    return (
        <div className='flex flex-col md:flex-row flex-wrap items-top' style={{ fontFamily: 'monospace', fontSize: '1rem', color: '#d4d4d4' }}>
            <pre className="md:pl-6 lg:pl-12 xl:pl-17" style={{ lineHeight: 0.5, fontSize: '0.5rem' }}>
                {asciiImage}
            </pre>
            <pre className="md:pl-6 lg:pl-12 xl:pl-17">
                {infoText1}
            </pre>
            <pre className="md:pl-6 lg:pl-12 xl:pl-17">
                {infoText2}
            </pre>
            <pre className="md:pl-6 lg:pl-12 xl:pl-17">
                {infoText3}
            </pre>
        </div>
    )
}

export default Profile